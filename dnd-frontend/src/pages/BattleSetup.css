/* ===============================================================
   BattleSetup.css — v7  (03 Tem 2025)
   =============================================================== */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');

/* ---------- Değişkenler -------------------------------------- */
:root{
  --cols:20
  --rows:20;             /* 20x20 grid */
  --cell:35px;           /* hücre boyutu */
  --gap:2px;
  --board-w:calc(var(--cols)*var(--cell)+(var(--cols)-1)*var(--gap));

  --edge:#5b4a2f;
  --bg-parch:url('../assets/ui/parchment_tile.jpg');
  --frame:6px;
}

/* ---------- Genel -------------------------------------------- */
html,body{height:100%;margin:0;font-family:'Cinzel',serif;color:#322810;}
.battle-setup{display:flex;flex-direction:column;align-items:flex-start;width:100%;padding:24px;}
.battle-setup h2,
.battle-setup h3{margin:0 0 12px;font-size:20px;text-transform:uppercase;
                 color:var(--edge);text-shadow:2px 2px 4px rgba(0,0,0,.7);}

/* ---------- Layout ------------------------------------------- */
.setup-row{display:flex;gap:16px;align-items:flex-start;justify-content:center;margin-bottom:32px;}
.pools-column{display:flex;flex-direction:column;gap:24px;}

/* ---------- Parşömen Panel ----------------------------------- */
.parch-box{
  background:var(--bg-parch) repeat;
  padding:16px;
  box-shadow:0 4px 16px rgba(0,0,0,.45),
             inset var(--frame) 0 0 0 var(--edge),
             inset -var(--frame) 0 0 0 var(--edge);
}

/* ---------- Grid Panel --------------------------------------- */
.grid-panel{
  height:calc(var(--rows) * var(--cell) + (var(--rows) - 1) * var(--gap));
  width:calc(var(--board-w) + 32px);     /* sağ-sol nefes */
  overflow-x:auto;
  background:var(--bg-parch) repeat;
  padding:16px;
  box-shadow:0 4px 16px rgba(0,0,0,.45),
             inset var(--frame) 0 0 0 var(--edge),
             inset -var(--frame) 0 0 0 var(--edge);
}

/* Grid */
.battle-grid {
  display: grid;
  grid-template-columns: repeat(var(--cols), var(--cell));
  gap: var(--gap);
  background: transparent !important;
}
.battle-grid .cell {
  width: var(--cell);
  height: var(--cell);
  background: transparent !important;
  border: 1px solid rgba(121, 95, 47, 0.85);
  box-shadow: none;
  display: flex;
  align-items: center;
  justify-content: center;
}
.cell.reachable {
  background: #d4f2d4 !important;
  border-color: #4caf50;
}
.cell.ranged    { border-color: #ff9800; }
.cell.ranged    { border-color: #ff9800; }
.cell.current-turn-cell {
  border-color: #e53935;
  box-shadow: 0 0 8px rgba(229, 57, 53, 0.7);
}

/* ---------- List Panels -------------------------------------- */
.available-list,
.character-list,
.creature-list{
  width:620px;                       /* daha geniş panel */
  max-height:200px;
  overflow-y:auto;
  background:var(--bg-parch) repeat;
  padding:16px;
  box-shadow:0 4px 16px rgba(0,0,0,.45),
             inset var(--frame) 0 0 0 var(--edge),
             inset -var(--frame) 0 0 0 var(--edge);
  display:flex;flex-wrap:wrap;gap:var(--gap);justify-content:center;
}

.available-list::-webkit-scrollbar,
.character-list::-webkit-scrollbar,
.creature-list::-webkit-scrollbar {
  width: 6px;
}
.available-list::-webkit-scrollbar-thumb,
.character-list::-webkit-scrollbar-thumb,
.creature-list::-webkit-scrollbar-thumb {
  background: #bfa87c;
  border-radius: 3px;
}

/* Tile */
.character-tile{
  width:126px;height:160px;border-radius:12px;overflow:hidden;cursor:grab;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:linear-gradient(135deg,#3e8e41,#2e7d32);
  box-shadow:0 0 1px #4caf50;padding:16px;transition:.2s;
}
.character-tile:hover{
  transform:scale(1.1);box-shadow:0 0 1px rgba(255,215,0,.7);
}
.character-tile img{width:80px;height:80px;object-fit:cover;border-radius:4px;}
.character-tile span{margin-top:1px;font-weight:bold;font-size:16px;
                     color:#322810;text-shadow:1px 1px 2px #000;text-align:center;}

/* ---------- Start Button ------------------------------------- */
.start-button{
  margin-top:-500px;padding:40px 100px;
  margin-left: 1500px;
  background:linear-gradient(135deg,#5b4a2f,#322810);
  color:#f0e6d2;border:2px solid #322810;border-radius:4px;
  font-size:14px;cursor:pointer;
  box-shadow:0 0 8px rgba(0,0,0,.6);transition:.2s;
  display:flex;align-items:center;gap:8px;
}
.start-button:hover{
  background:linear-gradient(135deg,#6b5a3f,#3a2a10);
  box-shadow:0 0 12px rgba(255,215,0,.6);
}

.start-icon{font-size:80px;}

/* ---------- Responsive --------------------------------------- */
@media(max-width:1200px){
  .setup-row{flex-direction:column;align-items:center;}
  .pools-column{flex-direction:row;gap:24px;}
  .character-list,.creature-list,.available-list{width:220px;}
}
@media(max-width:860px){
  :root{--cell:30px;--rows:20;--board-w:calc(var(--cols)*var(--cell)+(var(--cols)-1)*var(--gap));}
  .grid-panel{width:auto;}
}
@media(max-width:600px){
  :root{--cell:24px;}
}